%%%%%% MES MACROS %%%%%%%%

\newcommand{\hetero}{hétérogénéité\xspace}
\newcommand{\Hetero}{Hétérogénéité\xspace}
\newcommand{\heteros}{hétérogénéité\xspace}
\newcommand{\Heteros}{Hétérogénéité\xspace}
\newcommand{\heterogene}{hétérogène\xspace}
\newcommand{\heterogenes}{hétérogènes\xspace}
\newcommand{\Nber}{Patient~A\xspace}
\newcommand{\Chen}{Patient~B\xspace}
\newcommand{\ie}{{\it i.e.}\xspace}
\newcommand{\cf}{{\it cf.}\xspace}
\newcommand{\etal}{{\it et al.}\xspace}
\newcommand{\dvecx}{\;{\rm d}\vecx\xspace}
\newcommand{\dx}{\;{\rm d}x\xspace}
\newcommand{\dy}{\;{\rm d}y\xspace}
\newcommand{\dt}{\;{\rm d}t\xspace}
\newcommand{\du}{\;{\rm d}u\xspace}
\newcommand{\dv}{\;{\rm d}v\xspace}
\newcommand{\vol}{\mathcal{V}}
\newcommand{\aire}{\mathcal{A}}
\newcommand{\intperso}[1]{\!\!\int\limits_{#1}\!\!\!}
%%\newcommand{\trans}{\,^t}
\newcommand{\trans}[1]{\prescript{\mathit{t\!}}{}{#1}}
\newcommand{\ssi}{si et seulement si\xspace}

\newcommand{\CFL}{{\mathrm{CFL}}}
\newcommand{\Id}{{\mathds 1}}

\newcommand{\W}{{\bf W}}

\newcommand{\Frm}{{\rm F}}
\newcommand{\Grm}{{\rm G}}
\newcommand{\Hrm}{{\rm H}}
\newcommand{\crm}{{\rm c}}

\newcommand{\reel}{\mathbb{R}}

\newcommand{\treat}{\mathcal{T}}
\newcommand{\TI}{{\mathcal T_1}}
\newcommand{\TS}{{\mathcal T_2}}
\newcommand{\Tini}[1]{\rm{T}_{ini}^#1}
\newcommand{\Tend}[1]{\rm{T}_{end}^#1}
\newcommand{\chii}{\chi_{\rm i}}
\newcommand{\chiI}{\chi_1}
\newcommand{\chiS}{\chi_2}
\newcommand{\dive}{\nabla\cdot}

\newcommand{\Amin}{\mathcal{A}_{\rm min}}

\newcommand{\TPFS}{{\rm T_{PFS}}}
\newcommand{\Td}{{\rm T_{double}}}

\newcommand{\muI}{\mu_1}
\newcommand{\muS}{\mu_2}
\newcommand{\nuS}{\nu_2}
\newcommand{\muN}{\delta}

\newcommand{\RR}{{\mathbb{R}}}

\newcommand{\nn}{{\bf n}}
\newcommand{\GG}{{\bf G}}

\newcommand{\ang}{{\mathfrak{a}}}
\newcommand{\ex}{{\bf e}_x}
\newcommand{\ey}{{\bf e}_y}

\newcommand{\er}{{\bf e}_r}
\newcommand{\et}{{\bf e}_{\theta}}

\newcommand{\gammapp}{\gamma_{pp}}
\newcommand{\gammapd}{\gamma_{pd}}
\newcommand{\gammasd}{\gamma_{sd}}
\newcommand{\Ms}{M_{th}}
\newcommand{\vit}{\mathbf{v}}
\newcommand{\vecx}{\mathbf{x}}
\newcommand{\vecy}{\mathbf{y}}
\newcommand{\Tfini}{{T_f}_{ini}}
\newcommand{\Tgini}{{T_g}_{ini}}
\newcommand{\Tfend}{{T_f}_{end}}
\newcommand{\Tgend}{{T_g}_{end}}
\newcommand{\twinweno}{twin-WENO5}
\newcommand{\Twinweno}{Twin-WENO5}

\newcommand{\diff}[2]{\frac{\partial #1}{\partial #2}}


%%%%%% Commande de dessins
\newcommand{\rect}[4]{
	%% #1 et #2 --> coordonnee du coin en bas a gauche
	%% #3 et #4 --> largeur et hauteur
	\multiput(#1,#2)(0,#4){2}{\line(1,0){#3}}
	\multiput(#1,#2)(#3,0){2}{\line(0,1){#4}}
}

\newcommand{\mesh}[6]{
	%% #1 : x0  , #2 : dx , #3 : Nx (nombre de maille)
	%% #4 : y0  , #5 : dy , #6 : Ny
	%% lignes horizontales
	\put(#1,#4){\multiput(0,#5)(0,#5){#6}{\multiput(0,0)(#2,0){#3}{\line(1,0){#2}}}}
	\multiput(#1,#4)(#2,0){#3}{\line(1,0){#2}}
	%% lignes verticales
	\put(#1,#4){\multiput(#2,0)(#2,0){#3}{\multiput(0,0)(0,#5){#6}{\line(0,1){#5}}}}
	\multiput(#1,#4)(0,#5){#6}{\line(0,1){#5}}
}

\newcommand{\squaremesh}[3]{
	\mesh{#1}{#2}{#3}{#1}{#2}{#3}
}

\newlength{\dimx}
\setlength{\dimx}{888px}
\newlength{\dimy}
\setlength{\dimy}{888px} %%% faire \the\dimy dans le corps du doc pour afficher
\newlength{\zoneh}
\setlength{\zoneh}{90px}
\newlength{\zoneb}
\setlength{\zoneb}{90px}
\newlength{\zoneg}
\setlength{\zoneg}{0px}
\newlength{\zoned}
\setlength{\zoned}{416px}
\newlength{\margh}
\newlength{\margb}
\newlength{\margg}
\newlength{\margd}
\newlength{\dimxn}
\newlength{\dimyn}


\newcommand{\evalNewDim}{%
	\setlength{\dimxn}{\dimx-\margg-\margd}%
	\setlength{\dimyn}{\dimy-\margh-\margb}%
}

\newcommand{\RAZmargin}{%
	\setlength{\margh}{0px}%
	\setlength{\margb}{0px}%
	\setlength{\margg}{0px}%
	\setlength{\margd}{0px}%
	\evalNewDim%
}

\newcommand{\setzone}{%
	\addtolength{\margh}{\zoneh}%
	\addtolength{\margb}{\zoneb}%
	\addtolength{\margg}{\zoneg}%
	\addtolength{\margd}{\zoned}%
	\evalNewDim%
}

\newcommand{\zoomeur}[1]{%
	\evalNewDim%
	\FPeval{\ccc}{0.5*(#1-1.0)/#1}%%% #1 est un facteur d'agrandissement
	\addtolength{\margh}{\ccc\dimyn}%
	\addtolength{\margb}{\ccc\dimyn}%
	\addtolength{\margg}{\ccc\dimxn}%
	\addtolength{\margd}{\ccc\dimxn}%
	\evalNewDim%
}

\newcommand{\decale}[2]{%
	%% #1 > 0 ==> decalage vers la droite
	%% #2 >0 ==> decalage vers le haut
	\addtolength{\margg}{#1}%
	\addtolength{\margd}{-#1}%
	\addtolength{\margh}{#2}%
	\addtolength{\margb}{-#2}%
}

\newcommand{\reshapeimg}[3]{%%% on a pas la mm hauteur si on zoom
	\RAZmargin\setzone\decale{#2}{#3}\zoomeur{#1}%
}

\newcommand{\tikzzoom}[4]{%
  \begin{tikzpicture}[%
  spy using outlines={%
  %%height = .5cm, 
  %%%width = .5cm,
  %%circle,
  magnification=#2,%%% taille de ce que l'on veut zoomer
  size=30mm,%%% taille de la fenetre qui donne affiche le zoom
  connect spies,%
  white}]%
 \node[inner sep=1pt] {%
 \includegraphics[trim = {\margg} {\margb} {\margd} {\margh}, clip, width=0.32\textwidth]{#1}};%
  \spy on (#3,#4) in node at (-0.7,-2.0);%
  %% \spy on (coord de la zone a zoomer) in node at (coord de la vue zoomé )
\end{tikzpicture}%
}
